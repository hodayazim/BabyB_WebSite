{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{Component,useEffect,useStateת}from\"react\";import{Link,useLocation,useHistory}from\"react-router-dom\";import\"../css/product.css\";import ProductDetails from\"./productDetails\";import Mios from\"../Pictures/Product/MIOS_B2.jpg\";import{GetImagesProduct}from\"../FUNCTION/ProductImageFunction\";import{GetProductById}from\"../FUNCTION/ProductFunction\";import axios from\"axios\";function Products(){var history=useHistory();var location=useLocation();var params=location.state;var Category=params.data;// localStorage.Category\nvar baseURL=\"http://localhost:17374/api/\";useEffect(function(){var maincontent=\"\";var h1=/*#__PURE__*/_jsx(\"h1\",{children:\"\\u05DC\\u05D0 \\u05E0\\u05DE\\u05E6\\u05D0\\u05D5 \\u05DE\\u05D5\\u05E6\\u05E8\\u05D9\\u05DD \"});maincontent=\"</br></br></br></br><h1> לא נמצאו מוצרים בקטגורית </h1>\"+\"'\"+localStorage.getItem(\"Category\")+\"'\";if(params.data[0]==undefined){var x=document.getElementById(\"section\").innerHTML=maincontent;// x.propertyIsEnumerable.valueOf = function () {\n//   return h1.props.children;\n// };\n}});// useMountEffect(() => {\n//   setProducts(GetAllProducts());\n//   console.log(\"back!\" + GetAllProducts());\n// });\n// useEffect(() => {\n//   console.log(GetAllProducts());\n//   // setProducts(GetAllProducts());\n//  // console.log(\"Product: \" + NameProduct);\n// }, []);\nfunction VeiwProduct(data){GetProductById(data.target.id).then(function(res){console.log(res);localStorage.removeItem(\"GetProductById\");localStorage.setItem(\"GetProductById\",JSON.stringify(res));//GetImagesProduct(res.IdProduct);\n// .then((res2) => {\n//   console.log(res2);\n// })\n// .catch((err2) => {\n//   console.log(err2);\n// });axios\naxios.get(\"\".concat(baseURL,\"ProductImage/GetImagesProduct/\").concat(res.IdProduct)).then(function(res2){console.log(res2);localStorage.removeItem(\"ImagesProduct\");localStorage.setItem(\"ImagesProduct\",JSON.stringify(res2.data));window.location.reload();debugger;return;}).catch(function(error){console.log(error);return;});history.push(\"/ProductDetails\");}).catch(function(err){console.log(err);});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"section\",{id:\"section\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row row-cols-1 row-cols-md-4 g-4 flex-xl-row-reverse Product\",children:Category.map(function(p){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"col Product col-lg-3 col-md-4 col-sm-6 col-xs-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"box card h-100\",children:/*#__PURE__*/_jsxs(Link// to=\"/ProductDetails\"\n,{className:\"LinkCard\",onClick:function onClick(e){VeiwProduct(e);},children:[/*#__PURE__*/_jsx(\"img\",{src:p.Images[0]// src={img}\n,className:\"card-img-top\",id:p.IdProduct,alt:\"...\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",id:p.IdProduct,children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",id:p.IdProduct,children:p.NameProduct}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",id:p.IdProduct,children:p.DescriptionProduct}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text card-price\",children:[\"\\u20AA \",p.Price,\" \"]})]})]})})})});})})]});}export default Products;","map":{"version":3,"sources":["C:/Users/hoday/Desktop/final project/babyapp/src/components/Product.js"],"names":["React","Component","useEffect","useStateת","Link","useLocation","useHistory","ProductDetails","Mios","GetImagesProduct","GetProductById","axios","Products","history","location","params","state","Category","data","baseURL","maincontent","h1","localStorage","getItem","undefined","x","document","getElementById","innerHTML","VeiwProduct","target","id","then","res","console","log","removeItem","setItem","JSON","stringify","get","IdProduct","res2","window","reload","catch","error","push","err","map","p","e","Images","NameProduct","DescriptionProduct","Price"],"mappings":"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","sourcesContent":["import React, { Component, useEffect, useStateת } from \"react\";\r\nimport { Link, useLocation, useHistory } from \"react-router-dom\";\r\nimport \"../css/product.css\";\r\nimport ProductDetails from \"./productDetails\";\r\nimport Mios from \"../Pictures/Product/MIOS_B2.jpg\";\r\nimport { GetImagesProduct } from \"../FUNCTION/ProductImageFunction\";\r\nimport { GetProductById } from \"../FUNCTION/ProductFunction\";\r\nimport axios from \"axios\";\r\n\r\n\r\nfunction Products() {\r\n  let history = useHistory();\r\n  const location = useLocation();\r\n  const params = location.state;\r\n  const Category = params.data; // localStorage.Category\r\n  const baseURL = \"http://localhost:17374/api/\";\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    var maincontent = \"\";\r\n    const h1 = <h1>לא נמצאו מוצרים </h1>;\r\n    maincontent =\r\n      \"</br></br></br></br><h1> לא נמצאו מוצרים בקטגורית </h1>\" +\r\n      \"'\" +\r\n      localStorage.getItem(\"Category\") +\r\n      \"'\";\r\n    if (params.data[0] == undefined) {\r\n      var x = (document.getElementById(\"section\").innerHTML = maincontent);\r\n      // x.propertyIsEnumerable.valueOf = function () {\r\n      //   return h1.props.children;\r\n      // };\r\n    }\r\n  });\r\n\r\n  // useMountEffect(() => {\r\n  //   setProducts(GetAllProducts());\r\n  //   console.log(\"back!\" + GetAllProducts());\r\n  // });\r\n\r\n  // useEffect(() => {\r\n  //   console.log(GetAllProducts());\r\n  //   // setProducts(GetAllProducts());\r\n  //  // console.log(\"Product: \" + NameProduct);\r\n  // }, []);\r\n\r\n  function VeiwProduct(data) {\r\n    GetProductById(data.target.id)\r\n      .then((res) => {\r\n        console.log(res);\r\n\r\n        localStorage.removeItem(\"GetProductById\");\r\n      localStorage.setItem(\"GetProductById\", JSON.stringify(res));\r\n        //GetImagesProduct(res.IdProduct);\r\n        // .then((res2) => {\r\n        //   console.log(res2);\r\n        // })\r\n        // .catch((err2) => {\r\n        //   console.log(err2);\r\n        // });axios\r\n    axios.get(`${baseURL}ProductImage/GetImagesProduct/${res.IdProduct}`)\r\n    .then((res2) => {\r\n      console.log(res2);\r\n      localStorage.removeItem(\"ImagesProduct\");\r\n      localStorage.setItem(\"ImagesProduct\", JSON.stringify(res2.data));\r\n      window.location.reload();\r\n\r\n      debugger;\r\n      return;\r\n    })\r\n    .catch(function (error) {\r\n      console.log(error);\r\n      return;\r\n    });\r\n    history.push(\"/ProductDetails\");\r\n\r\n\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <section id=\"section\"></section>\r\n      <div className=\"row row-cols-1 row-cols-md-4 g-4 flex-xl-row-reverse Product\">\r\n        {Category.map((p) => {\r\n          return (\r\n            <>\r\n              <div className=\"col Product col-lg-3 col-md-4 col-sm-6 col-xs-12\">\r\n                <div className=\"box card h-100\">\r\n                  <Link\r\n                    // to=\"/ProductDetails\"\r\n                    className=\"LinkCard\"\r\n                    onClick={(e) => {\r\n                      VeiwProduct(e);\r\n                    }}\r\n                  >\r\n                    <img\r\n                      src={p.Images[0]}\r\n                      // src={img}\r\n                      className=\"card-img-top\"\r\n                      id={p.IdProduct}\r\n                      alt=\"...\"\r\n                    />\r\n                    <div className=\"card-body\" id={p.IdProduct}>\r\n                      <h5 className=\"card-title\" id={p.IdProduct}>\r\n                        {p.NameProduct}\r\n                      </h5>\r\n                      <p className=\"card-text\" id={p.IdProduct}>\r\n                        {p.DescriptionProduct}\r\n                      </p>\r\n                      <p className=\"card-text card-price\">₪ {p.Price} </p>\r\n                    </div>\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            </>\r\n          );\r\n        })}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Products;\r\n"]},"metadata":{},"sourceType":"module"}